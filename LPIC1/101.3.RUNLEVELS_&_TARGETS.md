# RUNLEVELS & TARGETS

### in systemd

Different states of Linux that can run specific things.

For example some isolate targets that will be needed:

- emergency: root file system, read only mode, no neworking.
- rescue: local file systems mounted, no networking and only root user.
- reboot
- halt: stop all processes and halt CPU activities.
- poweroff: like halt + ACPI shutdown singnal (cut off the power).

Example:

```bash
 systemctl isolate rescue
 systemctl is-system-running
 systemctl list-units --type=target
 systemctl isolate multi-user
 sudo systemctl isolate graphical
```

### in sysV

runlevels in Redhats:

- 0: shutdown
- 1: S or s (Single user mode)
- 2: multi-user without network
- 3: multi-user with network
- 4: empty (to add some custom setting by ourselves)
- 5: multi-user with network and graphics
- 6: reboot

Example:

```bash
init 3 # change the mode in sysV (with root access)
init 5
```

in Debians:

- 0: shutdown
- 1: S
- 2: multi-user with graphic
- 3: empty
- 4: empty
- 5: empty
- 6: reboot

inside `/etc/init.d`, there are bashes that stop start things.

`/etc/rc[0-6].d`: there is files that are linked to b bashes inside `/etc/init.d`. Some of files' names start with S, means the file will start some services and some others' names start with K, means the file will kill some services.

### stopping the system

```bash
shutdown -r <number> # rebooting
shutdown <wall message>
shutdown -r 5 we are gooing down # tell to others: "we are going down" in next 5 minutes
shutdown -c # cancel
shutdown -H now # halt the system right now
```

APCI: A system for power management (to stop power after shutting down the system)

### notifying users

```bash
sudo wall <message> # tell everyone everyhting
```

`/etc/issue`: If sysAdmin writes something in that, this file will be shown to the user that start to login from terminal.

`/etc/issue.net`: Same above for remotely connected users.

`/etc/motd`: motd => Message of the day. Everyone logins to the system when will see the message.

Example:
Write a message in `/etc.motd` with nano and run: `ssh localhost`
